{"schema_version":"1.7.3","id":"CVE-2023-53628","published":"2025-10-07T15:19:32Z","modified":"2025-10-29T20:18:26.525572Z","summary":"drm/amdgpu: drop gfx_v11_0_cp_ecc_error_irq_funcs","details":"In the Linux kernel, the following vulnerability has been resolved:\n\ndrm/amdgpu: drop gfx_v11_0_cp_ecc_error_irq_funcs\n\nThe gfx.cp_ecc_error_irq is retired in gfx11. In gfx_v11_0_hw_fini still\nuse amdgpu_irq_put to disable this interrupt, which caused the call trace\nin this function.\n\n[  102.873958] Call Trace:\n[  102.873959]  <TASK>\n[  102.873961]  gfx_v11_0_hw_fini+0x23/0x1e0 [amdgpu]\n[  102.874019]  gfx_v11_0_suspend+0xe/0x20 [amdgpu]\n[  102.874072]  amdgpu_device_ip_suspend_phase2+0x240/0x460 [amdgpu]\n[  102.874122]  amdgpu_device_ip_suspend+0x3d/0x80 [amdgpu]\n[  102.874172]  amdgpu_device_pre_asic_reset+0xd9/0x490 [amdgpu]\n[  102.874223]  amdgpu_device_gpu_recover.cold+0x548/0xce6 [amdgpu]\n[  102.874321]  amdgpu_debugfs_reset_work+0x4c/0x70 [amdgpu]\n[  102.874375]  process_one_work+0x21f/0x3f0\n[  102.874377]  worker_thread+0x200/0x3e0\n[  102.874378]  ? process_one_work+0x3f0/0x3f0\n[  102.874379]  kthread+0xfd/0x130\n[  102.874380]  ? kthread_complete_and_exit+0x20/0x20\n[  102.874381]  ret_from_fork+0x22/0x30\n\nv2:\n- Handle umc and gfx ras cases in separated patch\n- Retired the gfx_v11_0_cp_ecc_error_irq_funcs in gfx11\n\nv3:\n- Improve the subject and code comments\n- Add judgment on gfx11 in the function of amdgpu_gfx_ras_late_init\n\nv4:\n- Drop the define of CP_ME1_PIPE_INST_ADDR_INTERVAL and\nSET_ECC_ME_PIPE_STATE which using in gfx_v11_0_set_cp_ecc_error_state\n- Check cp_ecc_error_irq.funcs rather than ip version for a more\nsustainable life\n\nv5:\n- Simplify judgment conditions","affected":[{"ranges":[{"type":"GIT","repo":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git","events":[{"introduced":"790bef488b4ac4ceb52f5cda2a67c0d9bbb56d8c"},{"fixed":"31b07aec4a2bdcab00770ea3a18efe49734ce153"}]},{"type":"GIT","repo":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git","events":[{"introduced":"790bef488b4ac4ceb52f5cda2a67c0d9bbb56d8c"},{"fixed":"720b47229a5b24061d1c2e29ddb6043a59178d79"}]}],"versions":["v6.1","v6.1-rc7","v6.1-rc8","v6.2","v6.2-rc1","v6.2-rc2","v6.2-rc3","v6.2-rc4","v6.2-rc5","v6.2-rc6","v6.2-rc7","v6.2-rc8","v6.3","v6.3-rc1","v6.3-rc2","v6.3-rc3","v6.3-rc4","v6.3-rc5","v6.3-rc6","v6.3-rc7","v6.3.1","v6.3.2","v6.4-rc1"],"database_specific":{"source":"https://storage.googleapis.com/cve-osv-conversion/osv-output/CVE-2023-53628.json","vanir_signatures":[{"deprecated":false,"digest":{"line_hashes":["206929112495330295620104817561178233277","291500178234096270495758046450250778975","187587495161747371007789006139019011136","136054268098887938781933787086384439693","195173726829911093768078888287245299299","340141513108130365734805563582713347033","126860161490093526118036926421357629776","113346590660716707909370345346811024917","163625562372586148045656304277263814295","7665689244033267067117811996476588590","272977518912754529642939744287524321845","53542637816378904680557358795525383698","30998870230691852757348859664796989460","186426380965136697587418192515035215450","131693374777096382078650750290078365242","260899159434170933826601021955200134941","255535810505162969629224534455547100168","127837017926406027474042042633472781215","162268451260895971238228124263662950951","67671343961639738810949126561801679385","273421845525411380115392181070362661809","338452189274941790389015367260622849177","69116661146810850868336638303278803717","113223664342176240484071038095283318512","257150826515702926469006186923299942476","249618620933572172632015846484014641569","27651676328282316019637750911607014910","170075808968647981359825005820419935763","43031108477045990331820046500150898581","324755559803545959535140759133466436501","152150867229011514183467309590395022299","257857535754941106748504249308379426937","223281602756907278846915745803970333338","100226729194059443796655490204741553701","208210847401507592413576767712877138899","274504401047632224676990589636800676440","99935626103952513085282200386679061620","48507485845537269084031689584853803603","48706206348475918785938894153481527171","272275004223260923546156393730596965692","94831717755183481449486634227501451909","218957062933584518522044570674096410681","261697804252860857799837747720196897906","15640553664628563786805227091129820264","167500871230253529000775068729468507796","335915523049602536172325075978375743986","133368025946148965414594111944824890297","31137424355726838964923175883072613892"],"threshold":0.9},"id":"CVE-2023-53628-0e6a3e0b","signature_type":"Line","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@720b47229a5b24061d1c2e29ddb6043a59178d79","target":{"file":"drivers/gpu/drm/amd/amdgpu/gfx_v11_0.c"}},{"deprecated":false,"digest":{"function_hash":"322396403105737960746639786947010247363","length":3779},"id":"CVE-2023-53628-1d4931fc","signature_type":"Function","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@720b47229a5b24061d1c2e29ddb6043a59178d79","target":{"file":"drivers/gpu/drm/amd/amdgpu/gfx_v11_0.c","function":"gfx_v11_0_sw_init"}},{"deprecated":false,"digest":{"function_hash":"193545214689974262071764989893504926056","length":445},"id":"CVE-2023-53628-239e80ad","signature_type":"Function","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@31b07aec4a2bdcab00770ea3a18efe49734ce153","target":{"file":"drivers/gpu/drm/amd/amdgpu/amdgpu_gfx.c","function":"amdgpu_gfx_ras_late_init"}},{"deprecated":false,"digest":{"function_hash":"317543491449825662824159370377922473002","length":651},"id":"CVE-2023-53628-3a948e29","signature_type":"Function","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@31b07aec4a2bdcab00770ea3a18efe49734ce153","target":{"file":"drivers/gpu/drm/amd/amdgpu/gfx_v11_0.c","function":"gfx_v11_0_set_irq_funcs"}},{"deprecated":false,"digest":{"function_hash":"284308091849057157052285153418872524080","length":472},"id":"CVE-2023-53628-4e1acf5a","signature_type":"Function","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@720b47229a5b24061d1c2e29ddb6043a59178d79","target":{"file":"drivers/gpu/drm/amd/amdgpu/gfx_v11_0.c","function":"gfx_v11_0_set_cp_ecc_error_state"}},{"deprecated":false,"digest":{"line_hashes":["206929112495330295620104817561178233277","291500178234096270495758046450250778975","187587495161747371007789006139019011136","136054268098887938781933787086384439693","195173726829911093768078888287245299299","340141513108130365734805563582713347033","126860161490093526118036926421357629776","113346590660716707909370345346811024917","163625562372586148045656304277263814295","7665689244033267067117811996476588590","272977518912754529642939744287524321845","53542637816378904680557358795525383698","30998870230691852757348859664796989460","186426380965136697587418192515035215450","131693374777096382078650750290078365242","260899159434170933826601021955200134941","255535810505162969629224534455547100168","127837017926406027474042042633472781215","162268451260895971238228124263662950951","67671343961639738810949126561801679385","273421845525411380115392181070362661809","338452189274941790389015367260622849177","69116661146810850868336638303278803717","113223664342176240484071038095283318512","257150826515702926469006186923299942476","249618620933572172632015846484014641569","27651676328282316019637750911607014910","170075808968647981359825005820419935763","43031108477045990331820046500150898581","324755559803545959535140759133466436501","152150867229011514183467309590395022299","257857535754941106748504249308379426937","223281602756907278846915745803970333338","100226729194059443796655490204741553701","208210847401507592413576767712877138899","274504401047632224676990589636800676440","99935626103952513085282200386679061620","48507485845537269084031689584853803603","48706206348475918785938894153481527171","272275004223260923546156393730596965692","94831717755183481449486634227501451909","218957062933584518522044570674096410681","261697804252860857799837747720196897906","15640553664628563786805227091129820264","167500871230253529000775068729468507796","335915523049602536172325075978375743986","133368025946148965414594111944824890297","31137424355726838964923175883072613892"],"threshold":0.9},"id":"CVE-2023-53628-5a719cac","signature_type":"Line","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@31b07aec4a2bdcab00770ea3a18efe49734ce153","target":{"file":"drivers/gpu/drm/amd/amdgpu/gfx_v11_0.c"}},{"deprecated":false,"digest":{"function_hash":"35476793355175809087691175268500604113","length":688},"id":"CVE-2023-53628-5abda08b","signature_type":"Function","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@720b47229a5b24061d1c2e29ddb6043a59178d79","target":{"file":"drivers/gpu/drm/amd/amdgpu/gfx_v11_0.c","function":"gfx_v11_0_hw_fini"}},{"deprecated":false,"digest":{"function_hash":"35476793355175809087691175268500604113","length":688},"id":"CVE-2023-53628-668dee49","signature_type":"Function","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@31b07aec4a2bdcab00770ea3a18efe49734ce153","target":{"file":"drivers/gpu/drm/amd/amdgpu/gfx_v11_0.c","function":"gfx_v11_0_hw_fini"}},{"deprecated":false,"digest":{"line_hashes":["240707741234890959598460533894957957575","4689068746371047745254645414476877351","338442801539970766583651454279004328040","339097428676624328034123830718888135104","152616584481643728249136321824338207700","202618183991231061114815240690943860900"],"threshold":0.9},"id":"CVE-2023-53628-b6222e8f","signature_type":"Line","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@31b07aec4a2bdcab00770ea3a18efe49734ce153","target":{"file":"drivers/gpu/drm/amd/amdgpu/amdgpu_gfx.c"}},{"deprecated":false,"digest":{"line_hashes":["240707741234890959598460533894957957575","4689068746371047745254645414476877351","338442801539970766583651454279004328040","339097428676624328034123830718888135104","152616584481643728249136321824338207700","202618183991231061114815240690943860900"],"threshold":0.9},"id":"CVE-2023-53628-bb14abbf","signature_type":"Line","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@720b47229a5b24061d1c2e29ddb6043a59178d79","target":{"file":"drivers/gpu/drm/amd/amdgpu/amdgpu_gfx.c"}},{"deprecated":false,"digest":{"function_hash":"317543491449825662824159370377922473002","length":651},"id":"CVE-2023-53628-bc2e2536","signature_type":"Function","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@720b47229a5b24061d1c2e29ddb6043a59178d79","target":{"file":"drivers/gpu/drm/amd/amdgpu/gfx_v11_0.c","function":"gfx_v11_0_set_irq_funcs"}},{"deprecated":false,"digest":{"function_hash":"193545214689974262071764989893504926056","length":445},"id":"CVE-2023-53628-cf62419f","signature_type":"Function","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@720b47229a5b24061d1c2e29ddb6043a59178d79","target":{"file":"drivers/gpu/drm/amd/amdgpu/amdgpu_gfx.c","function":"amdgpu_gfx_ras_late_init"}},{"deprecated":false,"digest":{"function_hash":"322396403105737960746639786947010247363","length":3779},"id":"CVE-2023-53628-de9db13d","signature_type":"Function","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@31b07aec4a2bdcab00770ea3a18efe49734ce153","target":{"file":"drivers/gpu/drm/amd/amdgpu/gfx_v11_0.c","function":"gfx_v11_0_sw_init"}},{"deprecated":false,"digest":{"function_hash":"284308091849057157052285153418872524080","length":472},"id":"CVE-2023-53628-e494d144","signature_type":"Function","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@31b07aec4a2bdcab00770ea3a18efe49734ce153","target":{"file":"drivers/gpu/drm/amd/amdgpu/gfx_v11_0.c","function":"gfx_v11_0_set_cp_ecc_error_state"}}]}},{"package":{"name":"Kernel","ecosystem":"Linux"},"ranges":[{"type":"ECOSYSTEM","events":[{"introduced":"6.3.0"},{"fixed":"6.3.3"}]}],"database_specific":{"source":"https://storage.googleapis.com/cve-osv-conversion/osv-output/CVE-2023-53628.json"}}],"references":[{"type":"PACKAGE","url":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git"},{"type":"WEB","url":"https://git.kernel.org/stable/c/31b07aec4a2bdcab00770ea3a18efe49734ce153"},{"type":"WEB","url":"https://git.kernel.org/stable/c/720b47229a5b24061d1c2e29ddb6043a59178d79"}]}