{"schema_version":"1.7.3","id":"CVE-2025-38534","published":"2025-08-16T11:12:27.014Z","modified":"2025-11-20T09:23:17.636818Z","summary":"netfs: Fix copy-to-cache so that it performs collection with ceph+fscache","details":"In the Linux kernel, the following vulnerability has been resolved:\n\nnetfs: Fix copy-to-cache so that it performs collection with ceph+fscache\n\nThe netfs copy-to-cache that is used by Ceph with local caching sets up a\nnew request to write data just read to the cache.  The request is started\nand then left to look after itself whilst the app continues.  The request\ngets notified by the backing fs upon completion of the async DIO write, but\nthen tries to wake up the app because NETFS_RREQ_OFFLOAD_COLLECTION isn't\nset - but the app isn't waiting there, and so the request just hangs.\n\nFix this by setting NETFS_RREQ_OFFLOAD_COLLECTION which causes the\nnotification from the backing filesystem to put the collection onto a work\nqueue instead.","affected":[{"ranges":[{"type":"GIT","repo":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git","events":[{"introduced":"e2d46f2ec332533816417b60933954173f602121"},{"fixed":"1ebe58cef84eab22b41b4d5e72c2051ebf00af50"}]},{"type":"GIT","repo":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git","events":[{"introduced":"e2d46f2ec332533816417b60933954173f602121"},{"fixed":"4c238e30774e3022a505fa54311273add7570f13"}]}],"versions":["v6.13","v6.13-rc2","v6.13-rc3","v6.13-rc4","v6.13-rc5","v6.13-rc6","v6.13-rc7","v6.14","v6.14-rc1","v6.14-rc2","v6.14-rc3","v6.14-rc4","v6.14-rc5","v6.14-rc6","v6.14-rc7","v6.15","v6.15-rc1","v6.15-rc2","v6.15-rc3","v6.15-rc4","v6.15-rc5","v6.15-rc6","v6.15-rc7","v6.15.1","v6.15.2","v6.15.3","v6.15.4","v6.15.5","v6.15.6","v6.15.7","v6.16-rc1","v6.16-rc2","v6.16-rc3","v6.16-rc4","v6.16-rc5"],"database_specific":{"source":"https://storage.googleapis.com/cve-osv-conversion/osv-output/CVE-2025-38534.json","vanir_signatures":[{"deprecated":false,"digest":{"function_hash":"47337238300120942653548037115504627654","length":688},"id":"CVE-2025-38534-4a259c98","signature_type":"Function","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@1ebe58cef84eab22b41b4d5e72c2051ebf00af50","target":{"file":"fs/netfs/read_pgpriv2.c","function":"netfs_pgpriv2_begin_copy_to_cache"}},{"deprecated":false,"digest":{"line_hashes":["177176739759688752019722920348160465382","283986482859265400342814175925345694193","324289693014628364877332918010870272365"],"threshold":0.9},"id":"CVE-2025-38534-b470dd5f","signature_type":"Line","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@1ebe58cef84eab22b41b4d5e72c2051ebf00af50","target":{"file":"fs/netfs/read_pgpriv2.c"}}]}},{"package":{"name":"Kernel","ecosystem":"Linux"},"ranges":[{"type":"ECOSYSTEM","events":[{"introduced":"6.14.0"},{"fixed":"6.15.8"}]}],"database_specific":{"source":"https://storage.googleapis.com/cve-osv-conversion/osv-output/CVE-2025-38534.json"}}],"references":[{"type":"PACKAGE","url":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git"},{"type":"WEB","url":"https://git.kernel.org/stable/c/1ebe58cef84eab22b41b4d5e72c2051ebf00af50"},{"type":"WEB","url":"https://git.kernel.org/stable/c/4c238e30774e3022a505fa54311273add7570f13"}]}