{"schema_version":"1.7.3","id":"CVE-2025-21747","published":"2025-02-27T02:12:19.088Z","modified":"2025-11-20T07:55:23.089405Z","summary":"drm/ast: astdp: Fix timeout for enabling video signal","details":"In the Linux kernel, the following vulnerability has been resolved:\n\ndrm/ast: astdp: Fix timeout for enabling video signal\n\nThe ASTDP transmitter sometimes takes up to 1 second for enabling the\nvideo signal, while the timeout is only 200 msec. This results in a\nkernel error message. Increase the timeout to 1 second. An example\nof the error message is shown below.\n\n[  697.084433] ------------[ cut here ]------------\n[  697.091115] ast 0000:02:00.0: [drm] drm_WARN_ON(!__ast_dp_wait_enable(ast, enabled))\n[  697.091233] WARNING: CPU: 1 PID: 160 at drivers/gpu/drm/ast/ast_dp.c:232 ast_dp_set_enable+0x123/0x140 [ast]\n[...]\n[  697.272469] RIP: 0010:ast_dp_set_enable+0x123/0x140 [ast]\n[...]\n[  697.415283] Call Trace:\n[  697.420727]  <TASK>\n[  697.425908]  ? show_trace_log_lvl+0x196/0x2c0\n[  697.433304]  ? show_trace_log_lvl+0x196/0x2c0\n[  697.440693]  ? drm_atomic_helper_commit_modeset_enables+0x30a/0x470\n[  697.450115]  ? ast_dp_set_enable+0x123/0x140 [ast]\n[  697.458059]  ? __warn.cold+0xaf/0xca\n[  697.464713]  ? ast_dp_set_enable+0x123/0x140 [ast]\n[  697.472633]  ? report_bug+0x134/0x1d0\n[  697.479544]  ? handle_bug+0x58/0x90\n[  697.486127]  ? exc_invalid_op+0x13/0x40\n[  697.492975]  ? asm_exc_invalid_op+0x16/0x20\n[  697.500224]  ? preempt_count_sub+0x14/0xc0\n[  697.507473]  ? ast_dp_set_enable+0x123/0x140 [ast]\n[  697.515377]  ? ast_dp_set_enable+0x123/0x140 [ast]\n[  697.523227]  drm_atomic_helper_commit_modeset_enables+0x30a/0x470\n[  697.532388]  drm_atomic_helper_commit_tail+0x58/0x90\n[  697.540400]  ast_mode_config_helper_atomic_commit_tail+0x30/0x40 [ast]\n[  697.550009]  commit_tail+0xfe/0x1d0\n[  697.556547]  drm_atomic_helper_commit+0x198/0x1c0\n\nThis is a cosmetical problem. Enabling the video signal still works\neven with the error message. The problem has always been present, but\nonly recent versions of the ast driver warn about missing the timeout.","affected":[{"ranges":[{"type":"GIT","repo":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git","events":[{"introduced":"4e29cc7c5c673299cfbaf4982fc8b6a72c9f706f"},{"fixed":"589839379031cce220c9cab9f27cb5477195067e"}]},{"type":"GIT","repo":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git","events":[{"introduced":"4e29cc7c5c673299cfbaf4982fc8b6a72c9f706f"},{"fixed":"fd39c41bcd82d5ebaaebadb944eab5598c668a90"}]}],"versions":["v6.11","v6.12","v6.12-rc1","v6.12-rc2","v6.12-rc3","v6.12-rc4","v6.12-rc5","v6.12-rc6","v6.12-rc7","v6.13","v6.13-rc1","v6.13-rc2","v6.13-rc3","v6.13-rc4","v6.13-rc5","v6.13-rc6","v6.13-rc7","v6.13.1","v6.13.2"],"database_specific":{"source":"https://storage.googleapis.com/cve-osv-conversion/osv-output/CVE-2025-21747.json","vanir_signatures":[{"deprecated":false,"digest":{"line_hashes":["219444935753821496335156251065172000420","223124758837124116227308683700821268825","269629315371530927526077489990851895357","262141934365841197223890850352312739064"],"threshold":0.9},"id":"CVE-2025-21747-6d22d392","signature_type":"Line","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@fd39c41bcd82d5ebaaebadb944eab5598c668a90","target":{"file":"drivers/gpu/drm/ast/ast_dp.c"}},{"deprecated":false,"digest":{"function_hash":"225936928678832543735914013612875443626","length":361},"id":"CVE-2025-21747-ac2cfc71","signature_type":"Function","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@fd39c41bcd82d5ebaaebadb944eab5598c668a90","target":{"file":"drivers/gpu/drm/ast/ast_dp.c","function":"__ast_dp_wait_enable"}},{"deprecated":false,"digest":{"function_hash":"225936928678832543735914013612875443626","length":361},"id":"CVE-2025-21747-dc659418","signature_type":"Function","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@589839379031cce220c9cab9f27cb5477195067e","target":{"file":"drivers/gpu/drm/ast/ast_dp.c","function":"__ast_dp_wait_enable"}},{"deprecated":false,"digest":{"line_hashes":["219444935753821496335156251065172000420","223124758837124116227308683700821268825","269629315371530927526077489990851895357","262141934365841197223890850352312739064"],"threshold":0.9},"id":"CVE-2025-21747-f5cc9eb9","signature_type":"Line","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@589839379031cce220c9cab9f27cb5477195067e","target":{"file":"drivers/gpu/drm/ast/ast_dp.c"}}]}},{"package":{"name":"Kernel","ecosystem":"Linux"},"ranges":[{"type":"ECOSYSTEM","events":[{"introduced":"6.13.0"},{"fixed":"6.13.3"}]}],"database_specific":{"source":"https://storage.googleapis.com/cve-osv-conversion/osv-output/CVE-2025-21747.json"}}],"references":[{"type":"PACKAGE","url":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git"},{"type":"WEB","url":"https://git.kernel.org/stable/c/589839379031cce220c9cab9f27cb5477195067e"},{"type":"WEB","url":"https://git.kernel.org/stable/c/fd39c41bcd82d5ebaaebadb944eab5598c668a90"}]}