{"schema_version":"1.7.3","id":"CVE-2024-26916","published":"2024-04-17T15:59:25.711Z","modified":"2025-11-20T04:37:31.943171Z","related":["SUSE-SU-2024:2008-1","SUSE-SU-2024:2019-1","SUSE-SU-2024:2190-1"],"summary":"Revert \"drm/amd: flush any delayed gfxoff on suspend entry\"","details":"In the Linux kernel, the following vulnerability has been resolved:\n\nRevert \"drm/amd: flush any delayed gfxoff on suspend entry\"\n\ncommit ab4750332dbe (\"drm/amdgpu/sdma5.2: add begin/end_use ring\ncallbacks\") caused GFXOFF control to be used more heavily and the\ncodepath that was removed from commit 0dee72639533 (\"drm/amd: flush any\ndelayed gfxoff on suspend entry\") now can be exercised at suspend again.\n\nUsers report that by using GNOME to suspend the lockscreen trigger will\ncause SDMA traffic and the system can deadlock.\n\nThis reverts commit 0dee726395333fea833eaaf838bc80962df886c8.","affected":[{"ranges":[{"type":"GIT","repo":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git","events":[{"introduced":"f94942885e8416ce9de84d8fae93684002682b5d"},{"fixed":"65158edb0a3a8df23197d52cd24287e39eaf95d6"}]},{"type":"GIT","repo":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git","events":[{"introduced":"78b2ba39beef21c8baebb1868569c2026ad76de0"},{"fixed":"ff70e6ff6fc2413caf33410af7462d1f584d927e"}]},{"type":"GIT","repo":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git","events":[{"introduced":"3aae4ef4d799fb3d0381157640fdb251008cf0ae"},{"fixed":"caa2565a2e13899be31f7b1e069e6465d3e2adb0"}]},{"type":"GIT","repo":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git","events":[{"introduced":"ab4750332dbe535243def5dcebc24ca00c1f98ac"},{"fixed":"d855ceb6a5fde668c5431156bc60fae0cc52b764"}]},{"type":"GIT","repo":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git","events":[{"introduced":"ab4750332dbe535243def5dcebc24ca00c1f98ac"},{"fixed":"916361685319098f696b798ef1560f69ed96e934"}]}],"versions":["v5.15.144","v5.15.145","v5.15.146","v5.15.147","v5.15.148","v6.1.69","v6.1.70","v6.1.71","v6.1.72","v6.1.73","v6.1.74","v6.1.75","v6.1.76","v6.1.77","v6.1.78","v6.6.10","v6.6.11","v6.6.12","v6.6.13","v6.6.14","v6.6.15","v6.6.16","v6.6.17","v6.6.8","v6.6.9","v6.7","v6.7-rc5","v6.7-rc6","v6.7-rc7","v6.7-rc8","v6.7.1","v6.7.2","v6.7.3","v6.7.4","v6.7.5","v6.8-rc1","v6.8-rc2","v6.8-rc3","v6.8-rc4"],"database_specific":{"source":"https://storage.googleapis.com/cve-osv-conversion/osv-output/CVE-2024-26916.json","vanir_signatures":[{"deprecated":false,"digest":{"line_hashes":["257057355523905456416096722313334839752","31623201260579583737930549929929062158","236119015874190549906601275346286124449","76930458282555789631687105633953262710"],"threshold":0.9},"id":"CVE-2024-26916-06d0b9de","signature_type":"Line","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@caa2565a2e13899be31f7b1e069e6465d3e2adb0","target":{"file":"drivers/gpu/drm/amd/amdgpu/amdgpu_device.c"}},{"deprecated":false,"digest":{"function_hash":"263774315465150225457033875519666607729","length":962},"id":"CVE-2024-26916-11dc04fb","signature_type":"Function","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@65158edb0a3a8df23197d52cd24287e39eaf95d6","target":{"file":"drivers/gpu/drm/amd/amdgpu/amdgpu_gfx.c","function":"amdgpu_gfx_off_ctrl"}},{"deprecated":false,"digest":{"line_hashes":["76232246485971585599498419024339023250","23678330132652039281967311398948546216","66662263697028807579794041561934226408","74621552038571199371874222379224578572","85118347168298780680840842258957838804"],"threshold":0.9},"id":"CVE-2024-26916-24c72455","signature_type":"Line","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@ff70e6ff6fc2413caf33410af7462d1f584d927e","target":{"file":"drivers/gpu/drm/amd/amdgpu/amdgpu_gfx.c"}},{"deprecated":false,"digest":{"function_hash":"263774315465150225457033875519666607729","length":962},"id":"CVE-2024-26916-36662b7e","signature_type":"Function","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@d855ceb6a5fde668c5431156bc60fae0cc52b764","target":{"file":"drivers/gpu/drm/amd/amdgpu/amdgpu_gfx.c","function":"amdgpu_gfx_off_ctrl"}},{"deprecated":false,"digest":{"function_hash":"22200640046940271414418631767181316235","length":845},"id":"CVE-2024-26916-444e81c6","signature_type":"Function","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@caa2565a2e13899be31f7b1e069e6465d3e2adb0","target":{"file":"drivers/gpu/drm/amd/amdgpu/amdgpu_device.c","function":"amdgpu_device_suspend"}},{"deprecated":false,"digest":{"line_hashes":["257057355523905456416096722313334839752","31623201260579583737930549929929062158","236119015874190549906601275346286124449","76930458282555789631687105633953262710"],"threshold":0.9},"id":"CVE-2024-26916-4489aa6d","signature_type":"Line","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@916361685319098f696b798ef1560f69ed96e934","target":{"file":"drivers/gpu/drm/amd/amdgpu/amdgpu_device.c"}},{"deprecated":false,"digest":{"function_hash":"263774315465150225457033875519666607729","length":962},"id":"CVE-2024-26916-5701f329","signature_type":"Function","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@ff70e6ff6fc2413caf33410af7462d1f584d927e","target":{"file":"drivers/gpu/drm/amd/amdgpu/amdgpu_gfx.c","function":"amdgpu_gfx_off_ctrl"}},{"deprecated":false,"digest":{"function_hash":"250563103399709459395854125318373679382","length":817},"id":"CVE-2024-26916-5cec4d41","signature_type":"Function","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@ff70e6ff6fc2413caf33410af7462d1f584d927e","target":{"file":"drivers/gpu/drm/amd/amdgpu/amdgpu_device.c","function":"amdgpu_device_suspend"}},{"deprecated":false,"digest":{"function_hash":"263774315465150225457033875519666607729","length":962},"id":"CVE-2024-26916-6f89f87b","signature_type":"Function","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@caa2565a2e13899be31f7b1e069e6465d3e2adb0","target":{"file":"drivers/gpu/drm/amd/amdgpu/amdgpu_gfx.c","function":"amdgpu_gfx_off_ctrl"}},{"deprecated":false,"digest":{"line_hashes":["76232246485971585599498419024339023250","23678330132652039281967311398948546216","66662263697028807579794041561934226408","74621552038571199371874222379224578572","85118347168298780680840842258957838804"],"threshold":0.9},"id":"CVE-2024-26916-7c76700c","signature_type":"Line","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@caa2565a2e13899be31f7b1e069e6465d3e2adb0","target":{"file":"drivers/gpu/drm/amd/amdgpu/amdgpu_gfx.c"}},{"deprecated":false,"digest":{"line_hashes":["257057355523905456416096722313334839752","31623201260579583737930549929929062158","236119015874190549906601275346286124449","76930458282555789631687105633953262710"],"threshold":0.9},"id":"CVE-2024-26916-7f3e1a9b","signature_type":"Line","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@ff70e6ff6fc2413caf33410af7462d1f584d927e","target":{"file":"drivers/gpu/drm/amd/amdgpu/amdgpu_device.c"}},{"deprecated":false,"digest":{"line_hashes":["76232246485971585599498419024339023250","23678330132652039281967311398948546216","66662263697028807579794041561934226408","74621552038571199371874222379224578572","85118347168298780680840842258957838804"],"threshold":0.9},"id":"CVE-2024-26916-8d7c4f5e","signature_type":"Line","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@916361685319098f696b798ef1560f69ed96e934","target":{"file":"drivers/gpu/drm/amd/amdgpu/amdgpu_gfx.c"}},{"deprecated":false,"digest":{"line_hashes":["257057355523905456416096722313334839752","31623201260579583737930549929929062158","236119015874190549906601275346286124449","76930458282555789631687105633953262710"],"threshold":0.9},"id":"CVE-2024-26916-a29d93f7","signature_type":"Line","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@d855ceb6a5fde668c5431156bc60fae0cc52b764","target":{"file":"drivers/gpu/drm/amd/amdgpu/amdgpu_device.c"}},{"deprecated":false,"digest":{"function_hash":"27781454803549262876328541689613593851","length":880},"id":"CVE-2024-26916-a31ca29c","signature_type":"Function","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@916361685319098f696b798ef1560f69ed96e934","target":{"file":"drivers/gpu/drm/amd/amdgpu/amdgpu_device.c","function":"amdgpu_device_suspend"}},{"deprecated":false,"digest":{"line_hashes":["76232246485971585599498419024339023250","23678330132652039281967311398948546216","66662263697028807579794041561934226408","74621552038571199371874222379224578572","85118347168298780680840842258957838804"],"threshold":0.9},"id":"CVE-2024-26916-ade9968f","signature_type":"Line","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@65158edb0a3a8df23197d52cd24287e39eaf95d6","target":{"file":"drivers/gpu/drm/amd/amdgpu/amdgpu_gfx.c"}},{"deprecated":false,"digest":{"line_hashes":["76232246485971585599498419024339023250","23678330132652039281967311398948546216","66662263697028807579794041561934226408","74621552038571199371874222379224578572","85118347168298780680840842258957838804"],"threshold":0.9},"id":"CVE-2024-26916-bba4212e","signature_type":"Line","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@d855ceb6a5fde668c5431156bc60fae0cc52b764","target":{"file":"drivers/gpu/drm/amd/amdgpu/amdgpu_gfx.c"}},{"deprecated":false,"digest":{"line_hashes":["64536771181545378970926288167825973069","64433426866122468108158633106690807459","236119015874190549906601275346286124449","76930458282555789631687105633953262710"],"threshold":0.9},"id":"CVE-2024-26916-d8c426fd","signature_type":"Line","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@65158edb0a3a8df23197d52cd24287e39eaf95d6","target":{"file":"drivers/gpu/drm/amd/amdgpu/amdgpu_device.c"}},{"deprecated":false,"digest":{"function_hash":"27781454803549262876328541689613593851","length":880},"id":"CVE-2024-26916-f6bbae00","signature_type":"Function","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@d855ceb6a5fde668c5431156bc60fae0cc52b764","target":{"file":"drivers/gpu/drm/amd/amdgpu/amdgpu_device.c","function":"amdgpu_device_suspend"}},{"deprecated":false,"digest":{"function_hash":"263774315465150225457033875519666607729","length":962},"id":"CVE-2024-26916-f833e216","signature_type":"Function","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@916361685319098f696b798ef1560f69ed96e934","target":{"file":"drivers/gpu/drm/amd/amdgpu/amdgpu_gfx.c","function":"amdgpu_gfx_off_ctrl"}},{"deprecated":false,"digest":{"function_hash":"280954955446782215924131459908617281954","length":777},"id":"CVE-2024-26916-fc06238c","signature_type":"Function","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@65158edb0a3a8df23197d52cd24287e39eaf95d6","target":{"file":"drivers/gpu/drm/amd/amdgpu/amdgpu_device.c","function":"amdgpu_device_suspend"}}]}},{"package":{"name":"Kernel","ecosystem":"Linux"},"ranges":[{"type":"ECOSYSTEM","events":[{"introduced":"0"},{"fixed":"5.15.149"}]},{"type":"ECOSYSTEM","events":[{"introduced":"5.16.0"},{"fixed":"6.1.79"}]},{"type":"ECOSYSTEM","events":[{"introduced":"6.2.0"},{"fixed":"6.6.18"}]},{"type":"ECOSYSTEM","events":[{"introduced":"6.7.0"},{"fixed":"6.7.6"}]}],"database_specific":{"source":"https://storage.googleapis.com/cve-osv-conversion/osv-output/CVE-2024-26916.json"}}],"references":[{"type":"PACKAGE","url":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git"},{"type":"WEB","url":"https://git.kernel.org/stable/c/65158edb0a3a8df23197d52cd24287e39eaf95d6"},{"type":"WEB","url":"https://git.kernel.org/stable/c/916361685319098f696b798ef1560f69ed96e934"},{"type":"WEB","url":"https://git.kernel.org/stable/c/caa2565a2e13899be31f7b1e069e6465d3e2adb0"},{"type":"WEB","url":"https://git.kernel.org/stable/c/d855ceb6a5fde668c5431156bc60fae0cc52b764"},{"type":"WEB","url":"https://git.kernel.org/stable/c/ff70e6ff6fc2413caf33410af7462d1f584d927e"}]}