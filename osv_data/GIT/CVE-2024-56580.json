{"schema_version":"1.7.3","id":"CVE-2024-56580","published":"2024-12-27T14:23:22.380Z","modified":"2025-11-20T07:06:20.440274Z","related":["USN-7379-2","USN-7380-1"],"summary":"media: qcom: camss: fix error path on configuration of power domains","details":"In the Linux kernel, the following vulnerability has been resolved:\n\nmedia: qcom: camss: fix error path on configuration of power domains\n\nThere is a chance to meet runtime issues during configuration of CAMSS\npower domains, because on the error path dev_pm_domain_detach() is\nunexpectedly called with NULL or error pointer.\n\nOne of the simplest ways to reproduce the problem is to probe CAMSS\ndriver before registration of CAMSS power domains, for instance if\na platform CAMCC driver is simply not built.\n\nWarning backtrace example:\n\n    Unable to handle kernel NULL pointer dereference at virtual address 00000000000001a2\n\n    <snip>\n\n    pc : dev_pm_domain_detach+0x8/0x48\n    lr : camss_probe+0x374/0x9c0\n\n    <snip>\n\n    Call trace:\n     dev_pm_domain_detach+0x8/0x48\n     platform_probe+0x70/0xf0\n     really_probe+0xc4/0x2a8\n     __driver_probe_device+0x80/0x140\n     driver_probe_device+0x48/0x170\n     __device_attach_driver+0xc0/0x148\n     bus_for_each_drv+0x88/0xf0\n     __device_attach+0xb0/0x1c0\n     device_initial_probe+0x1c/0x30\n     bus_probe_device+0xb4/0xc0\n     deferred_probe_work_func+0x90/0xd0\n     process_one_work+0x164/0x3e0\n     worker_thread+0x310/0x420\n     kthread+0x120/0x130\n     ret_from_fork+0x10/0x20","affected":[{"ranges":[{"type":"GIT","repo":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git","events":[{"introduced":"23aa4f0cd3273b269560a9236c48b43a3982ac13"},{"fixed":"c98586d8d01c9e860e7acc3807c2afeb1dc14e8a"}]},{"type":"GIT","repo":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git","events":[{"introduced":"23aa4f0cd3273b269560a9236c48b43a3982ac13"},{"fixed":"4f45d65b781499d2a79eca12155532739c876aa2"}]}],"versions":["v6.10","v6.10-rc1","v6.10-rc2","v6.10-rc3","v6.10-rc4","v6.10-rc5","v6.10-rc6","v6.10-rc7","v6.11","v6.11-rc1","v6.11-rc2","v6.11-rc3","v6.11-rc4","v6.11-rc5","v6.11-rc6","v6.11-rc7","v6.12","v6.12-rc1","v6.12-rc2","v6.12-rc3","v6.12-rc4","v6.12-rc5","v6.12-rc6","v6.12-rc7","v6.12.1","v6.12.2","v6.12.3","v6.7","v6.7-rc5","v6.7-rc6","v6.7-rc7","v6.7-rc8","v6.8","v6.8-rc1","v6.8-rc2","v6.8-rc3","v6.8-rc4","v6.8-rc5","v6.8-rc6","v6.8-rc7","v6.9","v6.9-rc1","v6.9-rc2","v6.9-rc3","v6.9-rc4","v6.9-rc5","v6.9-rc6","v6.9-rc7"],"database_specific":{"source":"https://storage.googleapis.com/cve-osv-conversion/osv-output/CVE-2024-56580.json","vanir_signatures":[{"deprecated":false,"digest":{"line_hashes":["144854011028837202141919191190314606542","232799533752202546918395009919665144133","263097303050630715701203574131714453280","314726218825903015029939684216640347672","209891041110932728671136712834097050978","170855267797812991704771826168350851761","6175031627058302165912623793817349009","79936202355620554287434640947005830595","66094875779160359509698167688077092095","269978140165467650024941810142679637577","48850226950129950867158081670603677254","90134254438685654424143700574123170233","88041630260611883020670368758191454398","210347845430805287836921845531852476408","264051784129635297184630167663018957739","26032462390075717236450180206204193759","305056858989079913042538517703040576292","124179019544092117297857818437262868878","285825296035376403618453614455956571694"],"threshold":0.9},"id":"CVE-2024-56580-4f21ddac","signature_type":"Line","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@4f45d65b781499d2a79eca12155532739c876aa2","target":{"file":"drivers/media/platform/qcom/camss/camss.c"}},{"deprecated":false,"digest":{"function_hash":"32871880393126939703488980575260520888","length":1270},"id":"CVE-2024-56580-8ca983ff","signature_type":"Function","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@4f45d65b781499d2a79eca12155532739c876aa2","target":{"file":"drivers/media/platform/qcom/camss/camss.c","function":"camss_configure_pd"}},{"deprecated":false,"digest":{"line_hashes":["144854011028837202141919191190314606542","232799533752202546918395009919665144133","263097303050630715701203574131714453280","314726218825903015029939684216640347672","209891041110932728671136712834097050978","170855267797812991704771826168350851761","6175031627058302165912623793817349009","79936202355620554287434640947005830595","66094875779160359509698167688077092095","269978140165467650024941810142679637577","48850226950129950867158081670603677254","90134254438685654424143700574123170233","88041630260611883020670368758191454398","210347845430805287836921845531852476408","264051784129635297184630167663018957739","26032462390075717236450180206204193759","305056858989079913042538517703040576292","124179019544092117297857818437262868878","285825296035376403618453614455956571694"],"threshold":0.9},"id":"CVE-2024-56580-b4a5cb6b","signature_type":"Line","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@c98586d8d01c9e860e7acc3807c2afeb1dc14e8a","target":{"file":"drivers/media/platform/qcom/camss/camss.c"}},{"deprecated":false,"digest":{"function_hash":"32871880393126939703488980575260520888","length":1270},"id":"CVE-2024-56580-e8e5dd07","signature_type":"Function","signature_version":"v1","source":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git@c98586d8d01c9e860e7acc3807c2afeb1dc14e8a","target":{"file":"drivers/media/platform/qcom/camss/camss.c","function":"camss_configure_pd"}}]}},{"package":{"name":"Kernel","ecosystem":"Linux"},"ranges":[{"type":"ECOSYSTEM","events":[{"introduced":"6.8.0"},{"fixed":"6.12.4"}]}],"database_specific":{"source":"https://storage.googleapis.com/cve-osv-conversion/osv-output/CVE-2024-56580.json"}}],"references":[{"type":"PACKAGE","url":"https://git.kernel.org/pub/scm/linux/kernel/git/stable/linux.git"},{"type":"WEB","url":"https://git.kernel.org/stable/c/4f45d65b781499d2a79eca12155532739c876aa2"},{"type":"WEB","url":"https://git.kernel.org/stable/c/c98586d8d01c9e860e7acc3807c2afeb1dc14e8a"}],"severity":[{"type":"CVSS_V3","score":"CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:H"}]}